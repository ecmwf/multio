encoding-rules:

  #
  # Rule 1.0
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-hPa-simple-ensemble'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'greater-equal'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'simple'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0
        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 36

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 11
        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinhpa'

        ensemble-configurator:
          type: 'default'

      data-representation-section:
        template-number: 0


  #
  # Rule 1.1
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-hPa-simple-deterministic'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'composed'
          operation: 'none'
          filters:
            - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'greater-equal'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'simple'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0
        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 1

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 8

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinhpa'

      data-representation-section:
        template-number: 0

  #
  # Rule 2.0
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-hPa-ccsds-ensemble'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'greater-equal'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'ccsds'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0
        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 36

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 11

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinhpa'

        ensemble-configurator:
          type: 'default'

      data-representation-section:
        template-number: 42

  #
  # Rule 2.1
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-hPa-ccsds-deterministic'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'composed'
          operation: 'none'
          filters:
            - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'greater-equal'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'ccsds'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0
        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 1

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 8

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinhpa'

      data-representation-section:
        template-number: 42


  #
  # Rule 3.0
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-Pa-simple-ensemble'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'lower-than'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'simple'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0

        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 36

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 11

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinpa'

        ensemble-configurator:
          type: 'default'

      data-representation-section:
        template-number: 0


  #
  # Rule 3.1
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-Pa-simple-deterministic'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'composed'
          operation: 'none'
          filters:
            - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'lower-than'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'simple'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0

        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 1

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 8

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinpa'

      data-representation-section:
        template-number: 0


  #
  # Rule 4.0
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-Pa-ccsds-ensemble'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'lower-than'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'ccsds'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0

        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 36

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 11

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinpa'

        ensemble-configurator:
          type: 'default'

      data-representation-section:
        template-number: 42


  #
  # Rule 4.1
  - rule:

    name: 'rule-pl-statistical-ftr3h-isobaricIn-Pa-ccsds-deterministic'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:
        - type: 'composed'
          operation: 'none'
          filters:
            - type: 'is-ensemble'

        - type: 'param'
          operation: 'match'
          values: [ 228057, 228059 ]

        - type: 'levtype'
          operation: 'match'
          values: [ 'pl' ]

        - type: 'levelist'
          operation: 'lower-than'
          treshold: 100

        - type: 'repres'
          operation: 'match'
          values: [ 'gaussian-grid' ]

        - type: 'packing'
          operation: 'match'
          value: 'ccsds'

    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0

        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 1

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number:  8

        time-statistics-configurator:
          type: 'fixed-timerange'
          type-of-statistical-processing: 'Average'
          overall-length-of-timerange: '3h'

        param-configurator:
          type: 'paramIdECMF'

        level-configurator:
          type: 'isobaricinpa'

      data-representation-section:
        template-number: 42



  - rule:

    name: 'test'

    tag: 'fdb-01'

    filter:
      type: 'composed'
      operation: 'all'
      filters:

        - type: 'param'
          operation: 'match'
          value: 8

        - type: 'levtype'
          operation: 'match'
          value: 'sfc'

        - type: 'levelist'
          operation: 'match'
          value: 0

        - type: 'packing'
          operation: 'match'
          value: 'ccsds'

        - type: 'repres'
          operation: 'match'
          value: 'gg'


    encoder:
      type: 'grib2'

      indicator-section:
        template-number: 0

      identification-section:
        template-number: 0
        origin-configurator:
          type: 'default'
          sub-centre: 0

        data-type-configurator:
          type: 'default'

        reference-time-configurator:
          type: 'default'

        tables-configurator:
          type: 'default'
          local-tables-version: 0

      local-use-section:
        template-number: 36

      grid-definition-section:
        template-number: 40

      product-definition-section:
        template-number: 0
        point-in-time-configurator:
          type: 'default'

        param-configurator:
          type: 'paramId'

        level-configurator:
          type: 'surface'

      data-representation-section:
        template-number: 42

