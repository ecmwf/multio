set(MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR ${CMAKE_CURRENT_SOURCE_DIR})

# Enter in the module
message("${OFFSET} + parametrization sources: ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}")

# Recursive print
set(OFFSET ${OFFSET}${DOFFSET})

# Create the templated map for containing the parameters dictionary
set(TEMPLATE_USE_KEY  "USE, INTRINSIC :: ISO_C_BINDING, ONLY: C_LONG_LONG")
set(TEMPLATE_KEY_DUMMY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_INITIAL_VALUE "0_INT64" )
set(TEMPLATE_KEY_FNAME "int64")
set(TEMPLATE_KEY_NAME "INT64")
set(TEMPLATE_USE_VALUE  "USE :: PARAMETRIZATION_MOD, ONLY: PARAMETRIZATION_T")
set(TEMPLATE_VALUE_DUMMY_TYPE "TYPE(PARAMETRIZATION_T)")
set(TEMPLATE_VALUE_TYPE "TYPE(PARAMETRIZATION_T)")
set(TEMPLATE_VALUE_FNAME "par_dict" )
set(TEMPLATE_VALUE_NAME "PAR_DICT" )
configure_file(  ${MULTIOM_TEMPLATES_DIR}/map_pkey_mod.F90 ${CMAKE_CURRENT_BINARY_DIR}/map_${TEMPLATE_KEY_FNAME}_${TEMPLATE_VALUE_FNAME}_mod.F90  )


# Create the templated map for containing the reduced_gg dictionary
set(TEMPLATE_USE_KEY  "USE, INTRINSIC :: ISO_C_BINDING, ONLY: C_LONG_LONG")
set(TEMPLATE_KEY_DUMMY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_INITIAL_VALUE "0_INT64" )
set(TEMPLATE_KEY_FNAME "int64")
set(TEMPLATE_KEY_NAME "INT64")
set(TEMPLATE_USE_VALUE  "USE :: REPRESENTATIONS_MOD, ONLY: REDUCED_GG_T")
set(TEMPLATE_VALUE_DUMMY_TYPE "TYPE(REDUCED_GG_T)")
set(TEMPLATE_VALUE_TYPE "TYPE(REDUCED_GG_T)")
set(TEMPLATE_VALUE_FNAME "reduced_gg_dict" )
set(TEMPLATE_VALUE_NAME "REDUCED_GG_DICT" )
configure_file(  ${MULTIOM_TEMPLATES_DIR}/map_pkey_mod.F90 ${CMAKE_CURRENT_BINARY_DIR}/map_${TEMPLATE_KEY_FNAME}_${TEMPLATE_VALUE_FNAME}_mod.F90  )


# Create the templated map for containing the regular_gg dictionary
set(TEMPLATE_USE_KEY  "USE, INTRINSIC :: ISO_C_BINDING, ONLY: C_LONG_LONG")
set(TEMPLATE_KEY_DUMMY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_INITIAL_VALUE "0_INT64" )
set(TEMPLATE_KEY_FNAME "int64")
set(TEMPLATE_KEY_NAME "INT64")
set(TEMPLATE_USE_VALUE  "USE :: REPRESENTATIONS_MOD, ONLY: REGULAR_GG_T")
set(TEMPLATE_VALUE_DUMMY_TYPE "TYPE(REGULAR_GG_T)")
set(TEMPLATE_VALUE_TYPE "TYPE(REGULAR_GG_T)")
set(TEMPLATE_VALUE_FNAME "regular_gg_dict" )
set(TEMPLATE_VALUE_NAME "REGULAR_GG_DICT" )
configure_file(  ${MULTIOM_TEMPLATES_DIR}/map_pkey_mod.F90 ${CMAKE_CURRENT_BINARY_DIR}/map_${TEMPLATE_KEY_FNAME}_${TEMPLATE_VALUE_FNAME}_mod.F90  )


# Create the templated map for containing the spherical hermonics dictionary
set(TEMPLATE_USE_KEY  "USE, INTRINSIC :: ISO_C_BINDING, ONLY: C_LONG_LONG")
set(TEMPLATE_KEY_DUMMY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_INITIAL_VALUE "0_INT64" )
set(TEMPLATE_KEY_FNAME "int64")
set(TEMPLATE_KEY_NAME "INT64")
set(TEMPLATE_USE_VALUE  "USE :: REPRESENTATIONS_MOD, ONLY: SH_T")
set(TEMPLATE_VALUE_DUMMY_TYPE "TYPE(SH_T)")
set(TEMPLATE_VALUE_TYPE "TYPE(SH_T)")
set(TEMPLATE_VALUE_FNAME "sh_dict" )
set(TEMPLATE_VALUE_NAME "SH_DICT" )
configure_file(  ${MULTIOM_TEMPLATES_DIR}/map_pkey_mod.F90 ${CMAKE_CURRENT_BINARY_DIR}/map_${TEMPLATE_KEY_FNAME}_${TEMPLATE_VALUE_FNAME}_mod.F90  )


# Create the templated map for containing the stretched spherical harmonics dictionary
set(TEMPLATE_USE_KEY  "USE, INTRINSIC :: ISO_C_BINDING, ONLY: C_LONG_LONG")
set(TEMPLATE_KEY_DUMMY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_INITIAL_VALUE "0_INT64" )
set(TEMPLATE_KEY_FNAME "int64")
set(TEMPLATE_KEY_NAME "INT64")
set(TEMPLATE_USE_VALUE  "USE :: REPRESENTATIONS_MOD, ONLY: STRETCHED_SH_T")
set(TEMPLATE_VALUE_DUMMY_TYPE "TYPE(STRETCHED_SH_T)")
set(TEMPLATE_VALUE_TYPE "TYPE(STRETCHED_SH_T)")
set(TEMPLATE_VALUE_FNAME "stretched_sh_dict" )
set(TEMPLATE_VALUE_NAME "STRETCHED_SH_DICT" )
configure_file(  ${MULTIOM_TEMPLATES_DIR}/map_pkey_mod.F90 ${CMAKE_CURRENT_BINARY_DIR}/map_${TEMPLATE_KEY_FNAME}_${TEMPLATE_VALUE_FNAME}_mod.F90  )


# Create the templated map for containing the stretched rotated spherical harmonics dictionary
set(TEMPLATE_USE_KEY  "USE, INTRINSIC :: ISO_C_BINDING, ONLY: C_LONG_LONG")
set(TEMPLATE_KEY_DUMMY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_TYPE "INTEGER(KIND=C_LONG_LONG)")
set(TEMPLATE_KEY_INITIAL_VALUE "0_INT64" )
set(TEMPLATE_KEY_FNAME "int64")
set(TEMPLATE_KEY_NAME "INT64")
set(TEMPLATE_USE_VALUE  "USE :: REPRESENTATIONS_MOD, ONLY: STRETCHED_ROTATED_SH_T")
set(TEMPLATE_VALUE_DUMMY_TYPE "TYPE(STRETCHED_ROTATED_SH_T)")
set(TEMPLATE_VALUE_TYPE "TYPE(STRETCHED_ROTATED_SH_T)")
set(TEMPLATE_VALUE_FNAME "stretched_rotated_sh_dict" )
set(TEMPLATE_VALUE_NAME "STRETCHED_ROTATED_SH_DICT" )
configure_file(  ${MULTIOM_TEMPLATES_DIR}/map_pkey_mod.F90 ${CMAKE_CURRENT_BINARY_DIR}/map_${TEMPLATE_KEY_FNAME}_${TEMPLATE_VALUE_FNAME}_mod.F90  )



# Collect source files in data-structures
set( MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_MAIN_SOURCES
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/parametrization_enumerators_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/parametrization_mod.F90
  #${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/reduced_gg_map_mod.F90
  #${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/regular_ll_map_mod.F90
  #${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/spherical_harmonics_map_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/data_representation_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/geometry_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/time_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/bitmap_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/ensemble_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/analysis_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/satellite_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/level_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/wave_par_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/representations_mod.F90
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_DIR}/repres_map_mod.F90
  ${CMAKE_CURRENT_BINARY_DIR}/map_int64_par_dict_mod.F90
  ${CMAKE_CURRENT_BINARY_DIR}/map_int64_reduced_gg_dict_mod.F90
  ${CMAKE_CURRENT_BINARY_DIR}/map_int64_regular_gg_dict_mod.F90
  ${CMAKE_CURRENT_BINARY_DIR}/map_int64_sh_dict_mod.F90
  ${CMAKE_CURRENT_BINARY_DIR}/map_int64_stretched_sh_dict_mod.F90
  ${CMAKE_CURRENT_BINARY_DIR}/map_int64_stretched_rotated_sh_dict_mod.F90
)

# Collect source files in data-structures
set( MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_SOURCES
  ${MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_MAIN_SOURCES}
  CACHE INTERNAL "List of all sources in data-structures/mars directory"
)

# Optionally, message what has been appended for debugging
foreach(source_file IN LISTS MULTIOM_DATA_STRUCTURES_PARAMETRIZATION_MAIN_SOURCES)

    # Extract the filename (without the directory)
    get_filename_component(filename ${source_file} NAME)

    # Print the filename
    message("${OFFSET}    - ${filename}")
endforeach()